---
import Layout from '../layouts/Layout.astro';
import LessonCard from '../components/LessonCard.astro';
import ContactCard from '../components/ContactCard.astro';
import { lessons } from '../data/lessons';
---

<Layout title="Cours de Musique - Association Adonf">
  
  <div class="page-container">
    
    <!-- Header -->
    <header class="page-header">
        <h1 class="main-title">
            COURS DE <span>MUSIQUE</span>
        </h1>
        <div class="title-underline"></div>
    </header>

    <!-- Grid -->
    <section class="lessons-section">
      <div class="lessons-container">
        {lessons.map((lesson) => (
          <LessonCard lesson={lesson} />
        ))}
      </div>
    </section>

    <!-- Vision -->
    <section class="vision-section">
        <div class="vision-title-col">
             <h2>
                NOTRE<br/>VISION
             </h2>
        </div>
        <div class="vision-text-col">
            <p>
              Découvrir et apprendre, se perfectionner et progresser, sans cursus sans langage savant, avec pertinence et passion, en cours collectifs mais à l’écoute de chacun, voilà ce que vous propose la Rock School et son équipe pédagogique, autour des Musiques Actuelles.
            </p>
        </div>
    </section>

    <!-- Unified Infos Section -->
    <section id="inscriptions-tarifs" class="infos-section scroll-mt-32">
        <div class="infos-container">
            
            <!-- Tarifs (White) -->
            <div class="tarifs-block">
                <h3>Tarifs Annuels</h3>
                
                <div class="tarifs-list">
                    <div class="tarif-item">
                        <h4>Guitare, batterie, chant, basse, clavier, MAO-Beatmaking, écriture-création-production, DJing, percussions</h4>
                        <p>Cours de 1 heure : <span class="price">493 €</span> l’année + 15 € d’adhésion annuelle obligatoire</p>
                    </div>

                    <div class="divider"></div>

                    <div class="tarif-item">
                        <h4>Guitare, batterie, chant, clavier</h4>
                        <p>Cours de 30min pour les 7-8 ans : <span class="price">246,50€</span> l'année + 15€ d'adhésion annuelle obligatoire</p>
                    </div>

                    <div class="divider"></div>

                    <div class="tarif-item">
                        <h4>Initiation batterie</h4>
                        <p>Cours de 45min pour les 5-7 ans : <span class="price">370€</span> + 15€ d'adhésion annuelle obligatoire</p>
                    </div>

                    <div class="divider"></div>

                    <div class="tarif-item">
                        <h4>Cours d'essai</h4>
                        <p>Tarifé <span class="price">8,50€</span> ; remboursé si la personne décide de continuer le cours.</p>
                    </div>

                    <div class="divider"></div>

                    <div class="tarif-item">
                        <h4>Jeu en groupe</h4>
                        <ul class="tarif-sublist">
                            <li>Gratuit pour les élèves de la Rock School (dans la limite des places disponibles).</li>
                            <li><span class="price">200€</span> l'année (15 ateliers minimum) + 15€ d'adhésion annuelle obligatoire pour les personnes extérieures.</li>
                        </ul>
                    </div>
                </div>

                <div class="payment-methods">
                    <h3>Moyens de paiement possibles</h3>
                    <ul>
                        <li><strong>Par CB :</strong> au comptant uniquement</li>
                        <li><strong>Par espèces :</strong> au comptant uniquement</li>
                        <li><strong>Par chèque :</strong> en 1, 2, 3, 4 ou 5 fois</li>
                        <li><strong>Par prélèvement :</strong> en 1, 2, 3, 4 ou 5 fois</li>
                    </ul>
                </div>
            </div>

            <!-- Inscriptions (Black/Primary) -->
            <div class="inscriptions-block">
                <div class="bg-decoration"></div>
                
                <h3>Inscriptions</h3>
                
                <div class="inscriptions-content">
                    <p>
                        Pour une inscription en cours d'année : merci de contacter <a href="mailto:transmission@rockschool-barbey.com">transmission@rockschool-barbey.com</a> pour vérifier s’il reste des places pour le cours souhaité. 
                    </p>

                    <p> Le règlement intérieur 2025/2026 sur <a href="#">ce lien</a>. <br/>
                        Le calendrier des cours 2025/2026 sur <a href="#">ce lien</a>. </p>
                </div>
            </div>

        </div>
    </section>

    <!-- Contacts Section -->
    <section class="contacts-section">
        <h2 class="section-title">CONTACTS</h2>
        <div class="contacts-grid">
            <ContactCard 
                image="/assets/logo-adonf.png"
                name="Secrétariat"
                role="Association Adonf"
                email="contact@association-adonf.fr"
                phone="06 12 34 56 78"
            />
        </div>
    </section>

  </div>
</Layout>

<style>
  /* Core Layout */
  .page-container {
    padding: 3rem 1rem;
    max-width: 1200px;
    margin: 0 auto;
    font-family: system-ui, -apple-system, sans-serif;
  }

  @media(min-width: 768px) {
    .page-container {
      padding: 5rem 2rem;
    }
  }

  /* Header */
  .page-header {
    margin-bottom: 4rem;
    text-align: center;
  }
  @media(min-width: 768px) {
    .page-header {
        text-align: left;
        margin-bottom: 6rem;
    }
  }

  .main-title {
    font-size: 3rem;
    font-weight: 900;
    text-transform: uppercase;
    color: #1a1a1a;
    line-height: 1.1;
    margin: 0;
  }
  @media(min-width: 768px) {
    .main-title { font-size: 4.5rem; }
  }

  .main-title span { color: var(--primary-color, #dc143c); }

  .title-underline {
    height: 8px;
    width: 120px;
    background-color: var(--primary-color, #dc143c);
    margin-top: 1rem;
    border-radius: 4px;
    margin-left: auto;
    margin-right: auto;
  }
  @media(min-width: 768px) {
    .title-underline { margin-left: 0; margin-right: 0; }
  }

  /* Vision Section */
  .vision-section {
    display: grid;
    gap: 2rem;
    margin-bottom: 5rem;
    align-items: baseline;
  }
  @media(min-width: 768px) {
    .vision-section {
        grid-template-columns: 3fr 9fr;
        gap: 3rem;
        margin-bottom: 8rem;
    }
  }

  .vision-title-col h2 {
    font-size: 1.5rem;
    font-weight: 800;
    text-transform: uppercase;
    color: #1a1a1a;
    letter-spacing: 0.1em;
    border-left: 4px solid var(--primary-color, #dc143c);
    padding-left: 1rem;
    line-height: 1.2;
    margin: 0;
  }

  .vision-text-col p {
    font-size: 1.25rem;
    color: #333;
    font-weight: 300;
    line-height: 1.6;
    margin: 0;
  }
  .vision-text-col strong { color: #1a1a1a; font-weight: 700; }
  .vision-text-col em { color: var(--primary-color, #dc143c); font-style: italic; font-weight: 500; }

  /* Lessons Grid */
  .lessons-section {
    margin-bottom: 8rem;
  }
  
  .lessons-container {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 2rem;
  }

  /* Infos Section */
  .infos-section {
    margin-bottom: 4rem;
  }

  .infos-container {
    display: grid;
    box-shadow: 0 20px 40px rgba(0,0,0,0.1);
    border-radius: 20px;
    overflow: hidden;
  }

  .tarifs-block {
    background: white;
    padding: 2.5rem;
  }
  @media(min-width: 768px) {
    .tarifs-block { padding: 4rem; }
  }

  .tarifs-block h3, .inscriptions-block h3 {
    font-size: 1.8rem;
    font-weight: 900;
    text-transform: uppercase;
    margin: 0 0 2.5rem 0;
    padding-bottom: 1rem;
    display: inline-block;
  }
  .tarifs-block h3 {
    color: #1a1a1a;
    border-bottom: 2px solid #f0f0f0;
  }
  .inscriptions-block h3 {
    color: white;
    border-bottom: 2px solid rgba(255,255,255,0.1);
    position: relative;
    z-index: 2;
  }

  .tarif-item {
    margin-bottom: 1rem;
  }

  .tarif-item h4 {
    margin: 0 0 0.5rem 0;
    font-size: 1.1rem;
    text-transform: uppercase;
    font-weight: 800;
    color: #1a1a1a;
  }

  .tarif-item p {
    font-size: 1rem;
    color: #444;
    margin: 0;
    line-height: 1.5;
  }

  .tarif-item .price {
    color: var(--primary-color, #dc143c);
    font-weight: 700;
    font-size: 1.1rem;
  }

  .tarif-sublist {
      margin: 0.5rem 0 0 0;
      padding-left: 1.2rem;
      color: #444;
  }
  .tarif-sublist li {
      margin-bottom: 0.25rem;
  }

  .divider {
    height: 1px;
    background: #f0f0f0;
    margin: 1.5rem 0;
  }

  .payment-methods {
      margin-top: 3rem;
      padding-top: 2rem;
      border-top: 2px solid #f0f0f0;
  }

  .payment-methods h3 {
      font-size: 1.4rem;
      margin-bottom: 1.5rem;
      border: none;
      padding: 0;
  }

  .payment-methods ul {
      list-style: none;
      padding: 0;
      margin: 0;
  }

  .payment-methods li {
      margin-bottom: 0.5rem;
      font-size: 1rem;
      color: #333;
      padding-left: 1.5rem;
      position: relative;
  }

  .payment-methods li::before {
      content: "•";
      color: var(--primary-color, #dc143c);
      position: absolute;
      left: 0;
      font-weight: bold;
  }

  /* Inscriptions Block */
  .inscriptions-block {
    background: #1a1a1a;
    padding: 2.5rem;
    color: white;
    position: relative;
    overflow: hidden;
  }
  @media(min-width: 768px) {
    .inscriptions-block { padding: 4rem; }
  }

  .bg-decoration {
    position: absolute;
    top: -50px;
    right: -50px;
    width: 200px;
    height: 200px;
    background: var(--primary-color, #dc143c);
    border-radius: 50%;
    opacity: 0.15;
    filter: blur(40px);
    pointer-events: none;
  }

  .inscriptions-content {
    position: relative;
    z-index: 2;
  }

  .inscriptions-content p {
    font-size: 1.1rem;
    line-height: 1.6;
    color: #ccc;
    margin-bottom: 2rem;
  }
  .inscriptions-content strong { color: white; }

  /* Contacts Section */
  .contacts-section {
    margin-bottom: 4rem;
  }
  
  .section-title {
    font-size: 2rem;
    font-weight: 900;
    text-transform: uppercase;
    color: #1a1a1a;
    margin-bottom: 3rem;
    position: relative;
    display: inline-block;
  }
  
  .section-title::after {
      content: '';
      position: absolute;
      bottom: -10px;
      left: 0;
      width: 60px;
      height: 6px;
      background: var(--primary-color, #dc143c);
      border-radius: 3px;
  }

  .contacts-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 2rem;
  }

</style>
