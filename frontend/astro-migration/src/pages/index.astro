---
import Layout from '../layouts/Layout.astro';
import ActualiteCard from '../components/ActualiteCard.astro';
import ConcertCard from '../components/ConcertCard.astro';
import { actualites, concerts } from '../data/mock';

// Slice as per original Angular template logic
const recentActualites = actualites.slice(0, 3);
const recentConcerts = concerts.slice(0, 3);
---

<Layout title="Association Adonf - École de musique & Concerts">
  <main class="section-layout">
    
    <!-- Hero/Welcome Section could go here, omitting as source was section-layout focused -->

    <section class="actualites-section">
      <div class="container">
        <div class="section-header">
          <div>
            <h2 class="section-title">Actualités</h2>
          </div>
          <a href="/agenda#actualites" class="btn btn-outline">
            Toutes les actus <i class="pi pi-arrow-right"></i>
          </a>
        </div>
        
        <div class="actualites-grid">
          {recentActualites.map(actu => (
            <ActualiteCard actualite={actu} featured={actu.featured} />
          ))}
        </div>
      </div>
    </section>

    <section class="programmation-section">
      <div class="container">
        <div class="section-header">
          <div>
            <h2 class="section-title">Programmation</h2>
          </div>
          <a href="/agenda#programmation" class="btn btn-outline">
            Toute la prog <i class="pi pi-arrow-right"></i>
          </a>
        </div>
        
        <div class="concerts-grid">
          {recentConcerts.map(concert => (
            <ConcertCard concert={concert} />
          ))}
        </div>
      </div>
    </section>
  </main>
</Layout>

<style lang="scss">
    /* Extra styles if needed beyond global */
    .btn-outline {
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
    }
</style>
